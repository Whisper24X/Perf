{"ast":null,"code":"import { createElementVNode as _createElementVNode, toDisplayString as _toDisplayString, createTextVNode as _createTextVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, resolveComponent as _resolveComponent, createVNode as _createVNode, Fragment as _Fragment, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\";\nconst _withScopeId = n => (_pushScopeId(\"data-v-60515d0c\"), n = n(), _popScopeId(), n);\nconst _hoisted_1 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"h1\", null, \"设备详情\", -1 /* HOISTED */));\nconst _hoisted_2 = {\n  key: 0\n};\nconst _hoisted_3 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"strong\", null, \"设备名称：\", -1 /* HOISTED */));\nconst _hoisted_4 = {\n  key: 1\n};\nconst _hoisted_5 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"strong\", null, \"其他字段：\", -1 /* HOISTED */));\nconst _hoisted_6 = {\n  key: 2\n};\nconst _hoisted_7 = {\n  class: \"card\"\n};\nconst _hoisted_8 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"h2\", null, \"CPU\", -1 /* HOISTED */));\nconst _hoisted_9 = {\n  key: 0,\n  class: \"card-body\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_apexchart = _resolveComponent(\"apexchart\");\n  return _openBlock(), _createElementBlock(_Fragment, null, [_createElementVNode(\"div\", null, [_hoisted_1, $data.deviceData ? (_openBlock(), _createElementBlock(\"p\", _hoisted_2, [_hoisted_3, _createTextVNode(\" \" + _toDisplayString($data.deviceData.device_name), 1 /* TEXT */)])) : _createCommentVNode(\"v-if\", true), $data.deviceData ? (_openBlock(), _createElementBlock(\"p\", _hoisted_4, [_hoisted_5, _createTextVNode(\" \" + _toDisplayString($data.deviceData.other_field), 1 /* TEXT */)])) : (_openBlock(), _createElementBlock(\"p\", _hoisted_6, \" 加载中... \"))]), _createElementVNode(\"div\", _hoisted_7, [_hoisted_8, $data.devicePerfInfo ? (_openBlock(), _createElementBlock(\"div\", _hoisted_9, [_createVNode(_component_apexchart, {\n    type: \"line\",\n    height: \"350\",\n    options: $data.chartOptions,\n    series: $data.series\n  }, null, 8 /* PROPS */, [\"options\", \"series\"])])) : _createCommentVNode(\"v-if\", true)])], 64 /* STABLE_FRAGMENT */);\n}","map":{"version":3,"names":["_createElementVNode","key","class","_createElementBlock","_Fragment","_hoisted_1","$data","deviceData","_hoisted_2","_hoisted_3","_createTextVNode","_toDisplayString","device_name","_createCommentVNode","_hoisted_4","_hoisted_5","other_field","_hoisted_6","_hoisted_7","_hoisted_8","devicePerfInfo","_hoisted_9","_createVNode","_component_apexchart","type","height","options","chartOptions","series"],"sources":["/Users/yangcong/性能/Perf/frontend/my-vue-app/src/components/DeviceDetails.vue"],"sourcesContent":["<template>\n    <div>\n        <h1>设备详情</h1>\n        <p v-if=\"deviceData\">\n            <strong>设备名称：</strong> {{ deviceData.device_name }}\n        </p>\n        <p v-if=\"deviceData\">\n            <strong>其他字段：</strong> {{ deviceData.other_field }}\n        </p>\n        <p v-else>\n            加载中...\n        </p>\n    </div>\n    <div class=\"card\">\n        <h2>CPU</h2>\n        <div class=\"card-body\" v-if=\"devicePerfInfo\">\n            <apexchart type=\"line\" height=\"350\" :options=\"chartOptions\" :series=\"series\"></apexchart>\n        </div>\n    </div>\n</template>\n\n<script>\nimport axios from 'axios';\nimport VueApexCharts from 'vue3-apexcharts';\n\nexport default {\n    name: 'DeviceDetails',\n    components: {\n        apexchart: VueApexCharts\n    },\n    data() {\n        return {\n            deviceData: null,\n            devicePerfInfo: null,\n            chartOptions: {\n                chart: {\n                    type: 'line',\n                    height: 350\n                },\n                xaxis: {\n                    type: 'datetime'\n                },\n                title: {\n                    text: '设备性能信息',\n                    align: 'left'\n                },\n                series: []\n            },\n            series: []\n        };\n    },\n    created() {\n        this.deviceData = {\n            device_name: this.$route.query.device_name,\n            other_field: this.$route.query.other_field\n        };\n\n        this.fetchDevicePerfInfo();\n    },\n    methods: {\n        fetchDevicePerfInfo() {\n            const payload = {\n                device_name: this.deviceData.device_name,\n                other_field: this.deviceData.other_field\n            };\n\n            axios.post('http://127.0.0.1:5000/get_cpu_info', payload)\n                .then(response => {\n                    console.log(\"API response:\", response.data); // Log the response data\n                    this.devicePerfInfo = response.data;\n                    console.log(this.devicePerfInfo)\n                })\n                .catch(error => {\n                    console.error(\"获取设备性能信息出错:\", error);\n                });\n        },\n        processChartData() {\n            // Assuming this.devicePerfInfo is an array of objects\n            const cpuSeries = this.devicePerfInfo.map(data => ({\n                x: new Date(data.recorded_at).getTime(),\n                y: data.device_cpu_rate // You can change this based on what you want to visualize\n            }));\n\n            // You can add more series for different metrics if needed\n            this.series = [{\n                name: 'CPU Rate',\n                data: cpuSeries\n            }];\n        }\n    }\n};\n</script>\n\n<style scoped>\nh1 {\n    color: #42b983;\n}\n</style>\n"],"mappings":";;gEAEQA,mBAAA,CAAa,YAAT,MAAI;;EAFhBC,GAAA;AAAA;gEAIYD,mBAAA,CAAsB,gBAAd,OAAK;;EAJzBC,GAAA;AAAA;gEAOYD,mBAAA,CAAsB,gBAAd,OAAK;;EAPzBC,GAAA;AAAA;;EAaSC,KAAK,EAAC;AAAM;gEACbF,mBAAA,CAAY,YAAR,KAAG;;EAdfC,GAAA;EAeaC,KAAK,EAAC;;;;uBAfnBC,mBAAA,CAAAC,SAAA,SACIJ,mBAAA,CAWM,cAVFK,UAAa,EACJC,KAAA,CAAAC,UAAU,I,cAAnBJ,mBAAA,CAEI,KALZK,UAAA,GAIYC,UAAsB,EAJlCC,gBAAA,CAIkC,GAAC,GAAAC,gBAAA,CAAGL,KAAA,CAAAC,UAAU,CAACK,WAAW,iB,KAJ5DC,mBAAA,gBAMiBP,KAAA,CAAAC,UAAU,I,cAAnBJ,mBAAA,CAEI,KARZW,UAAA,GAOYC,UAAsB,EAPlCL,gBAAA,CAOkC,GAAC,GAAAC,gBAAA,CAAGL,KAAA,CAAAC,UAAU,CAACS,WAAW,iB,oBAEpDb,mBAAA,CAEI,KAXZc,UAAA,EASkB,UAEV,G,GAEJjB,mBAAA,CAKM,OALNkB,UAKM,GAJFC,UAAY,EACiBb,KAAA,CAAAc,cAAc,I,cAA3CjB,mBAAA,CAEM,OAFNkB,UAEM,GADFC,YAAA,CAAyFC,oBAAA;IAA9EC,IAAI,EAAC,MAAM;IAACC,MAAM,EAAC,KAAK;IAAEC,OAAO,EAAEpB,KAAA,CAAAqB,YAAY;IAAGC,MAAM,EAAEtB,KAAA,CAAAsB;sDAhBjFf,mBAAA,e","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}