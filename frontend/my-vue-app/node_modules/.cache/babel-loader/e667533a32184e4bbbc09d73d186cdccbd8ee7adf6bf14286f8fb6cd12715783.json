{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport axios from 'axios';\n// import ApexCharts from 'apexcharts';\nimport ApexCharts from 'apexcharts';\nexport default {\n  name: 'DeviceDetails',\n  data() {\n    return {\n      deviceData: null,\n      devic: null\n    };\n  },\n  created() {\n    this.deviceData = {\n      device_name: this.$route.query.device_name,\n      other_field: this.$route.query.other_field\n    };\n    this.fetchDevicePerfInfo();\n  },\n  methods: {\n    fetchDevicePerfInfo() {\n      const payload = {\n        device_name: this.deviceData.device_name,\n        other_field: this.deviceData.other_field\n      };\n      axios.post('http://127.0.0.1:5000/view_device_perf_info', payload).then(response => {\n        this.devicePerfInfo = response.data;\n        this.renderChart(); // 数据获取后调用方法渲染图表\n      }).catch(error => {\n        console.error(\"获取设备性能信息出错:\", error);\n      });\n    },\n    renderChart() {\n      if (this.devicePerfInfo) {\n        const seriesData = [{\n          name: \"Facebook\",\n          data: this.generateSeriesData(this.devicePerfInfo, 'facebook')\n        }, {\n          name: \"Twitter\",\n          data: this.generateSeriesData(this.devicePerfInfo, 'twitter')\n        }, {\n          name: \"Dribbble\",\n          data: this.generateSeriesData(this.devicePerfInfo, 'dribbble')\n        }];\n        window.ApexCharts && new ApexCharts(document.getElementById('chart-social-referrals'), {\n          chart: {\n            type: \"line\",\n            fontFamily: 'inherit',\n            height: 240,\n            parentHeightOffset: 0,\n            toolbar: {\n              show: false\n            },\n            animations: {\n              enabled: false\n            }\n          },\n          fill: {\n            opacity: 1\n          },\n          stroke: {\n            width: 2,\n            lineCap: \"round\",\n            curve: \"smooth\"\n          },\n          series: seriesData,\n          tooltip: {\n            theme: 'dark'\n          },\n          grid: {\n            padding: {\n              top: -20,\n              right: 0,\n              left: -4,\n              bottom: -4\n            },\n            strokeDashArray: 4,\n            xaxis: {\n              lines: {\n                show: true\n              }\n            }\n          },\n          xaxis: {\n            labels: {\n              padding: 0\n            },\n            tooltip: {\n              enabled: false\n            },\n            type: 'datetime',\n            categories: this.devicePerfInfo.labels // 假设标签在 devicePerfInfo 中\n          },\n          yaxis: {\n            labels: {\n              padding: 4\n            }\n          },\n          // colors: [tabler.getColor(\"facebook\"), tabler.getColor(\"twitter\"), tabler.getColor(\"dribbble\")],\n          legend: {\n            show: true,\n            position: 'bottom',\n            offsetY: 12,\n            markers: {\n              width: 10,\n              height: 10,\n              radius: 100\n            },\n            itemMargin: {\n              horizontal: 8,\n              vertical: 8\n            }\n          }\n        }).render();\n      }\n    },\n    generateSeriesData(devicePerfInfo, seriesName) {\n      const seriesData = [];\n      devicePerfInfo.forEach(dataPoint => {\n        // 根据实际的 API 响应结构进行调整\n        if (dataPoint.name === seriesName) {\n          seriesData.push(dataPoint.value); // 替换为包含系列数据的实际字段\n        }\n      });\n      return seriesData;\n    }\n  }\n};","map":{"version":3,"names":["axios","ApexCharts","name","data","deviceData","devic","created","device_name","$route","query","other_field","fetchDevicePerfInfo","methods","payload","post","then","response","devicePerfInfo","renderChart","catch","error","console","seriesData","generateSeriesData","window","document","getElementById","chart","type","fontFamily","height","parentHeightOffset","toolbar","show","animations","enabled","fill","opacity","stroke","width","lineCap","curve","series","tooltip","theme","grid","padding","top","right","left","bottom","strokeDashArray","xaxis","lines","labels","categories","yaxis","legend","position","offsetY","markers","radius","itemMargin","horizontal","vertical","render","seriesName","forEach","dataPoint","push","value"],"sources":["/Users/yangcong/性能/Perf/frontend/my-vue-app/src/components/DeviceDetails.vue"],"sourcesContent":["<template>\n    <div>\n        <h1>设备详情</h1>\n        <p v-if=\"deviceData\">\n            <strong>设备名称：</strong> {{ deviceData.device_name }}\n        </p>\n        <p v-if=\"deviceData\">\n            <strong>其他字段：</strong> {{ deviceData.other_field }}\n        </p>\n        <p v-else>\n            加载中...\n        </p>\n        <div v-if=\"devicePerfInfo\">\n            <h2>API 响应</h2>\n            <pre>{{ devicePerfInfo }}</pre>\n        </div>\n    </div>\n    <div class=\"card\">\n        <div class=\"card-body\">\n            <div id=\"chart-social-referrals\" class=\"chart-lg\"></div>\n        </div>\n    </div>\n</template>\n\n<script>\nimport axios from 'axios';\n// import ApexCharts from 'apexcharts';\nimport ApexCharts from 'apexcharts';\nexport default {\n    name: 'DeviceDetails',\n    data() {\n        return {\n            deviceData: null,\n            devic: null\n        };\n    },\n    created() {\n        this.deviceData = {\n            device_name: this.$route.query.device_name,\n            other_field: this.$route.query.other_field\n        };\n\n        this.fetchDevicePerfInfo();\n    },\n    methods: {\n        fetchDevicePerfInfo() {\n            const payload = {\n                device_name: this.deviceData.device_name,\n                other_field: this.deviceData.other_field\n            };\n\n            axios.post('http://127.0.0.1:5000/view_device_perf_info', payload)\n                .then(response => {\n                    this.devicePerfInfo = response.data;\n                    this.renderChart(); // 数据获取后调用方法渲染图表\n                })\n                .catch(error => {\n                    console.error(\"获取设备性能信息出错:\", error);\n                });\n        },\n        renderChart() {\n            if (this.devicePerfInfo) {\n                const seriesData = [\n                    {\n                        name: \"Facebook\",\n                        data: this.generateSeriesData(this.devicePerfInfo, 'facebook')\n                    },\n                    {\n                        name: \"Twitter\",\n                        data: this.generateSeriesData(this.devicePerfInfo, 'twitter')\n                    },\n                    {\n                        name: \"Dribbble\",\n                        data: this.generateSeriesData(this.devicePerfInfo, 'dribbble')\n                    }\n                ];\n\n                window.ApexCharts && new ApexCharts(document.getElementById('chart-social-referrals'), {\n                    chart: {\n                        type: \"line\",\n                        fontFamily: 'inherit',\n                        height: 240,\n                        parentHeightOffset: 0,\n                        toolbar: {\n                            show: false,\n                        },\n                        animations: {\n                            enabled: false\n                        },\n                    },\n                    fill: {\n                        opacity: 1,\n                    },\n                    stroke: {\n                        width: 2,\n                        lineCap: \"round\",\n                        curve: \"smooth\",\n                    },\n                    series: seriesData,\n                    tooltip: {\n                        theme: 'dark'\n                    },\n                    grid: {\n                        padding: {\n                            top: -20,\n                            right: 0,\n                            left: -4,\n                            bottom: -4\n                        },\n                        strokeDashArray: 4,\n                        xaxis: {\n                            lines: {\n                                show: true\n                            }\n                        },\n                    },\n                    xaxis: {\n                        labels: {\n                            padding: 0,\n                        },\n                        tooltip: {\n                            enabled: false\n                        },\n                        type: 'datetime',\n                        categories: this.devicePerfInfo.labels // 假设标签在 devicePerfInfo 中\n                    },\n                    yaxis: {\n                        labels: {\n                            padding: 4\n                        },\n                    },\n                    // colors: [tabler.getColor(\"facebook\"), tabler.getColor(\"twitter\"), tabler.getColor(\"dribbble\")],\n                    legend: {\n                        show: true,\n                        position: 'bottom',\n                        offsetY: 12,\n                        markers: {\n                            width: 10,\n                            height: 10,\n                            radius: 100,\n                        },\n                        itemMargin: {\n                            horizontal: 8,\n                            vertical: 8\n                        },\n                    },\n                }).render();\n            }\n        },\n        generateSeriesData(devicePerfInfo, seriesName) {\n            const seriesData = [];\n            devicePerfInfo.forEach(dataPoint => {\n                // 根据实际的 API 响应结构进行调整\n                if (dataPoint.name === seriesName) {\n                    seriesData.push(dataPoint.value); // 替换为包含系列数据的实际字段\n                }\n            });\n            return seriesData;\n        }\n    }\n};\n</script>\n\n<style scoped>\nh1 {\n    color: #42b983;\n}\n</style>\n\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}